<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="James Van Slyke" />


<title>More with Databases</title>

<script src="site_libs/header-attrs-2.11/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/darkly.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>








<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Using R Studio for Statistics</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Basics
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Why_R.html">Why Use R &amp; R Studio?</a>
    </li>
    <li>
      <a href="Intro_to_R.html">Intro to R</a>
    </li>
    <li>
      <a href="Building_databases.html">Building Databases</a>
    </li>
    <li>
      <a href="More_with_databases.html">More with Databases</a>
    </li>
    <li>
      <a href="Working_with_R_Markdown.html">Working with R Markdown</a>
    </li>
    <li>
      <a href="Descriptive_Statistics.html">Descriptive Statistics</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Graphs
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Intro_ggplot.html">Intro to ggplot</a>
    </li>
    <li>
      <a href="Bar_Graphs_CI.html">Bar Graphs with 95% CIs</a>
    </li>
    <li>
      <a href="Histograms.html">Histograms</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Statistical Tests
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Z_Test.html">One Sample z test</a>
    </li>
    <li>
      <a href="Independent_t-test.html">Independent t-test</a>
    </li>
    <li>
      <a href="Paired_samples_t-test.html">Paired Samples t-test</a>
    </li>
    <li>
      <a href="One_Way_ANOVA.html">One-Way ANOVA</a>
    </li>
    <li>
      <a href="Two_Way_ANOVA.html">Two-Way ANOVA</a>
    </li>
    <li>
      <a href="Chi_Square.html">Chi Square</a>
    </li>
    <li>
      <a href="Regression.html">Regression</a>
    </li>
    <li>
      <a href="Correlation.html">Correlation</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">More with Databases</h1>
<h4 class="author">James Van Slyke</h4>

</div>


<div id="more-on-creating-databases" class="section level2">
<h2>More on creating Databases</h2>
<p>On the Moodle website download the pdf file <em>Anxiety and Learning
example</em></p>
<p>Step 1 - Identify variables</p>
<ul>
<li><p>Variable 1 = Anxiety</p></li>
<li><p>Variable 2 = Learn new material</p></li>
<li><p>Variable 3 = Difficulty of new material</p></li>
</ul>
<p>Step 2 - What kind of variables?</p>
<ul>
<li><p>Anxiety = categorical -&gt; ordinal</p>
<ul>
<li>Anxiety is a categorical variable because it’s different groups of
persons based on the presence of anxiety, but there is an order based on
the amount of anxiety (Low, Medium, High), thus it is ordinal.</li>
</ul></li>
<li><p>Difficulty of new material = categorical -&gt; ordinal</p>
<ul>
<li>Just like anxiety, difficulty of new material is a categorical
variable because it’s different groups of persons based on the
difficulty of the material, but there is an order to the level of
difficulty (Low, Medium, High), this it is ordinal</li>
</ul></li>
<li><p>Ability to learn new material = numeric -&gt; ratio</p>
<ul>
<li>Ability to learn new material is numeric because it is the variable
being measured (based on how much material is learned out of a possible
20). Since it has an absolute zero point (there are no negative numbers)
and it’s possible to talk about a score being twice as good as another
it is a ratio scale.</li>
</ul></li>
</ul>
<p>Step 3 - How do I get it into R Studio?</p>
<p>The first example we’ll look at as a Tibble. A tibble is helpful
because you can set it up like a normal spreadsheet. Use a
<code>~</code> to tell R which words are the names for your variables.
For each variable make sure you don’t have any spaces. All variables and
objects should not contain a space between words. Choose a single word
for your variables or use an <code>_</code>. Remember that each row
should be an observation and each column should be a variable. Here’s
how you would set it up (It’s incomplete, but you get the general
idea).</p>
<pre class="r"><code>Learning_TR &lt;- tribble(~Difficulty, ~Anxiety, ~Score, 
                    &quot;Low&quot;,       &quot;Low&quot;,       18,
                    &quot;Low&quot;,       &quot;Low&quot;,       17,
                    &quot;Low&quot;,       &quot;Low&quot;,       20,
                    &quot;Low&quot;,       &quot;Low&quot;,       16,
                    &quot;Low&quot;,       &quot;Low&quot;,       17,
                    &quot;Low&quot;,      &quot;Medium&quot;,     18,
                    &quot;Low&quot;,      &quot;Medium&quot;,     18,
                    &quot;Low&quot;,      &quot;Medium&quot;,     19,
                    &quot;Low&quot;,      &quot;Medium&quot;,     15,
                    &quot;Low&quot;,      &quot;Medium&quot;,     17, 
                    &quot;Low&quot;,       &quot;High&quot;,      18,
                    &quot;Low&quot;,       &quot;High&quot;,      17,
                    &quot;Low&quot;,       &quot;High&quot;,      16,
                    &quot;Low&quot;,       &quot;High&quot;,      18,
                    &quot;Low&quot;,       &quot;High&quot;,      19,
                  &quot;Medium&quot;,       &quot;Low&quot;,      18)</code></pre>
<p>Another way to create this kind of dataset is to use the repeat
function <code>rep</code>. But remember you need to slightly different
patterns to include each observation based on the different ordinal
variables.</p>
<pre class="r"><code>Learning &lt;- data.frame(
       Difficulty = 
      c(rep(c(&quot;Low&quot;, &quot;Medium&quot;, &quot;High&quot;), each = 15)), 
       Anxiety = 
      c(rep(c(&quot;Low&quot;, &quot;Medium&quot;, &quot;High&quot;), times = 5)), 
       Score = 
      c(18, 18, 18, 17, 18, 17, 20, 19, 16,
        16, 15, 18, 17, 17, 19, 18, 18, 14, 
        14, 17, 15, 17, 18, 17, 16, 15, 12,
        14, 14, 16, 11, 15, 9, 6, 12, 8, 10,
        13, 7, 10, 11, 8, 8, 12, 5))
Learning</code></pre>
<pre><code>##    Difficulty Anxiety Score
## 1         Low     Low    18
## 2         Low  Medium    18
## 3         Low    High    18
## 4         Low     Low    17
## 5         Low  Medium    18
## 6         Low    High    17
## 7         Low     Low    20
## 8         Low  Medium    19
## 9         Low    High    16
## 10        Low     Low    16
## 11        Low  Medium    15
## 12        Low    High    18
## 13        Low     Low    17
## 14        Low  Medium    17
## 15        Low    High    19
## 16     Medium     Low    18
## 17     Medium  Medium    18
## 18     Medium    High    14
## 19     Medium     Low    14
## 20     Medium  Medium    17
## 21     Medium    High    15
## 22     Medium     Low    17
## 23     Medium  Medium    18
## 24     Medium    High    17
## 25     Medium     Low    16
## 26     Medium  Medium    15
## 27     Medium    High    12
## 28     Medium     Low    14
## 29     Medium  Medium    14
## 30     Medium    High    16
## 31       High     Low    11
## 32       High  Medium    15
## 33       High    High     9
## 34       High     Low     6
## 35       High  Medium    12
## 36       High    High     8
## 37       High     Low    10
## 38       High  Medium    13
## 39       High    High     7
## 40       High     Low    10
## 41       High  Medium    11
## 42       High    High     8
## 43       High     Low     8
## 44       High  Medium    12
## 45       High    High     5</code></pre>
<p>Let’s check out our variables using the <code>str</code> command</p>
<pre class="r"><code>str(Learning)</code></pre>
<pre><code>## &#39;data.frame&#39;:    45 obs. of  3 variables:
##  $ Difficulty: chr  &quot;Low&quot; &quot;Low&quot; &quot;Low&quot; &quot;Low&quot; ...
##  $ Anxiety   : chr  &quot;Low&quot; &quot;Medium&quot; &quot;High&quot; &quot;Low&quot; ...
##  $ Score     : num  18 18 18 17 18 17 20 19 16 16 ...</code></pre>
<p>Notice our two ordinal variables are listed as <code>chr</code>,
which stands for character and our ratio variable is listed as
<code>num</code> which stands for numeric or number.</p>
<p>The only thing missing is making our two ordinal variables
<em>factors</em>. A factor allows us to show a character variable based
on a specific order, so they can actually be ordinal and not just words
or strings. There are two ways to do this.</p>
<p>First define the levels of your factor variable.</p>
<pre class="r"><code>Levels &lt;- c(&quot;Low&quot;, &quot;Medium&quot;, &quot;High&quot;)</code></pre>
<p>Then change the variable itself using the object <code>Levels</code>
to define the order of your factor variable.</p>
<pre class="r"><code>Learning$Difficulty &lt;- factor(Learning$Difficulty, 
                     levels = Levels)</code></pre>
<p>You can also define the levels in the code to create a factor in one
step like this example using the Anxiety variable.</p>
<pre class="r"><code>Learning$Anxiety &lt;- factor(Learning$Anxiety, 
            levels = c(&quot;Low&quot;, &quot;Medium&quot;, &quot;High&quot;))</code></pre>
<p>Now check out the structure with the adjustments you’ve just made to
your dataset. It should now identify <code>Anxiety</code> and
<code>Difficulty</code> as factors.</p>
<pre class="r"><code>str(Learning)</code></pre>
<pre><code>## &#39;data.frame&#39;:    45 obs. of  3 variables:
##  $ Difficulty: Factor w/ 3 levels &quot;Low&quot;,&quot;Medium&quot;,..: 1 1 1 1 1 1 1 1 1 1 ...
##  $ Anxiety   : Factor w/ 3 levels &quot;Low&quot;,&quot;Medium&quot;,..: 1 2 3 1 2 3 1 2 3 1 ...
##  $ Score     : num  18 18 18 17 18 17 20 19 16 16 ...</code></pre>
</div>
<div id="bar-graph" class="section level2">
<h2>Bar graph</h2>
<p>To create a bar graph we need to do a little more work since this
will be based on one of our measures of central tendency, the mean,
because count or number won’t tell us much about the variables.</p>
<p>So we need to use the pipe again <code>%&gt;%</code> and something
new, the summarize function <code>summarise</code>. Summarise allows us
to calculate various measurements of central tendency, variation, and
others. Then we can use those numbers in a graph.</p>
<pre class="r"><code>Learning_Mean &lt;- Learning %&gt;%
  group_by(Anxiety) %&gt;%
  summarise(n = n(),
            mean = mean(Score))
Learning_Mean</code></pre>
<pre><code>## # A tibble: 3 × 3
##   Anxiety     n  mean
##   &lt;fct&gt;   &lt;int&gt; &lt;dbl&gt;
## 1 Low        15  14.1
## 2 Medium     15  15.5
## 3 High       15  13.3</code></pre>
<p>Next Let’s create the bar graph using the Anxiety variable and mean
score from the new dataset.</p>
<pre class="r"><code>ggplot(data = Learning_Mean) +
  geom_bar(mapping = aes(x = Anxiety, 
           y = mean), stat = &quot;identity&quot; )</code></pre>
<p><img src="More_with_databases_files/figure-html/unnamed-chunk-9-1.png" width="672" /></p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
